<!DOCTYPE html>
<html>
    <head><title>Hello World Keyboard Sample</title></head>
    <body>
        <!--Include the retrolib web bundle.-->
        <script src="../../../dist/retrolib.js"></script>
        <script>
            let lastPressed = ''
            retrolib.setCanvasBackground('black')
            retrolib.initialize('gamecanvas', 320, 200, true, true)
            let ctx = retrolib.gameCanvas.getContext('2d')

            // Register our event handler callback.
            retrolib.input.onKeyboardDown((event) => lastPressed = event.key)

            retrolib.scenes.addScene(new retrolib.Scene('Key Press', (delta) => {
                ctx.clearRect(0, 0, 320, 200)
                let message = lastPressed.length === 0 ? 'Press any key...' : 'Pressed ' + lastPressed
                retrolib.font.drawText(Math.floor(160 - retrolib.font.textWidth(message) / 2), Math.floor(100 - retrolib.font.textHeight(message) / 2), message, '#f1f1f1ff')
            }, true))

        </script>
    </body>
</html>